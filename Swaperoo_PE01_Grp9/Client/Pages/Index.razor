@page "/"
@inject HttpClient _client
@inject IJSRuntime js
@using Swaperoo_PE01_Grp9.Shared.Domain
@using Swaperoo_PE01_Grp9.Client

<PageTitle>Index</PageTitle>
<head>
    <link href="css/landing.css" rel="stylesheet" />
</head>


<body>
    
    <div class="display">
        <div class="lady1"><img src="images/lady1.png" style="width: 400px;"></div>
        <div class="display_text">Do Your Part in Saving The World.<br>Buy Green.</div>
        <div class="lady2"><img src="images/lady2.png" style="width: 300px;"></div> 
    </div>

    <div class="Featured_grid">
        @if (Products != null)
        {
            @foreach (var product in Products)
            {
                <div class="Featured">
                    <div class="product_imgrow">
                        <img class="product_img" src="@product.imagepath">
                    </div>

                    <div class="product_info">
                        <p class="product_name">@product.Name</p>
                        <p class="product_price">$@product.price</p>
                    </div>
                </div>
            }       
        }
    </div>
</body>
@code {
    private List<Product>? Products;

    protected async override Task OnInitializedAsync()
    {
        Products = await _client.GetFromJsonAsync<List<Product>>($"{Endpoints.ProductsEndpoint}");
    }
}